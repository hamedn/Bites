<ion-view dash-screen view-title="Bites" class="bg2" >
    <ion-header-bar align-title="center" class="bar-balanced">
    	<div class="buttons">
    		<button class="button button-icon ion-ios-arrow-back" ng-click="goDash()">
    		</button>
    	</div>

    	<h1 class="title">Bites</h1>

    	<div class="buttons">
    		<button class="button button-icon ion-android-add" ng-click="goMeal()"></button>
    	</div>

    </ion-header-bar>

<ion-content scroll="true" delegate-handle="scrollArea">
    <div class="list card" style="margin-left:5%; margin-right:5%; border-radius:5px;">
        <div class="item item-avatar">
            <img src="{{meal.profilePicture}}">
            <h2>{{meal.title}}</h2>
            <p>By {{meal.userName}}</p>

            <!-- Might want to change this styling in the future -->
            <h2 style="font-size: 1.5em; color: green; position: absolute; right: 5px; top: 0;" align="right">${{formatPrice(meal.price)}}</h2>
                
            <div class="buttons" style="float: right;">
                <button class="button button-icon  ion-location" style="font-size: .9em; margin-right: -10px;"> {{formatMealLocation(meal.mealLocation)}}</button>
                <button class="button button-icon ion-clock" style="font-size: .9em;"> {{meal.pickup | amCalendar}} </button>
            </div>
        </div>

            
        <div class="item item-image" style="margin-top: -15px;">
            <img src="{{meal.photo}}">
        </div>
            
        <div class="item item-divider">
            <p> {{meal.description}} </p>
            <div class="row">
                <div class="buttons" style="margin: 0 auto;">
                    <button class="button button-balanced" ng-click="toOrder()">Order Now</button>
                </div>
            </div>
        </div>  

    </div>

    <div class="list card" style="margin-left:5%; margin-right:5%; border-radius:5px;">
        <div class="item item-divider">
            <p align="center">The chef would love your feedback!</p>
        </div>
        <div class="rate">
            <ionic-ratings ratingsobj='ratingsObject'></ionic-ratings>
        </div>

        <button style="margin: 5px auto 5px;" class="rate-button button button-small button-balanced" ng-click="submitRating()">Rate the Meal</button>

    </div>

    <div class="list card" style="margin-left:5%; margin-right:5%; border-radius:5px;">
        <div class="item item-divider">
            <div id="tabs">
                <div ng-repeat="tab in tabs" ng-class="tab.style" ng-click="onClickTab(tab)">
                    <div>
                        <h2 style="padding: 1px;font-size: 1.5em;">{{tab.title}}</h2>
                    </div>
                </div>

            </div>
        </div>

        <div class="item item-text-wrap">
            <div ng-include="currentTab"></div>

            <script type="text/ng-template" id="about.html">
                <div id="about">
                    <div class="row">
                        
                        <p style="font-size: 1em; color: green;" class="col-center button-icon ion-location"></p>
                        <p style="color: grey; font-size: 1em;" class="col-center">Location:</p>
                        
                        <p style="font-size: 1em; text-align: right; float: right;" class="col"> {{meal.mealLocation}} </p>
                    </div>
                    <div class="row">
                        <p style="font-size: 1em; color: green;" class="col-center button-icon ion-android-alarm-clock"></p> 
                        <p style="color: grey; font-size: 1em;" class="col-center">Order By:</p>
                        <p style="font-size: 1em; text-align: right" class="col">{{meal.deadline | amCalendar}} </p>
                    </div>

                    <div class="row">
                        <p style="font-size: 1em; color: green;" class="col-center button-icon ion-clock"></p>
                        <p style="color: grey; font-size: 1em;" class="col-center">Pickup Time:</p>
                        <p style="font-size: 1em; text-align: right" class="col">{{meal.pickup | amCalendar}}</p>
                    </div>

                    <div class="row">
                        <p style="font-size: 1em; color: green;" class="col-center button-icon ion-fork"></p>
                        <p style="color: grey; font-size: 1em;" class="col-center">Orders:</p>
                        <p style="font-size: 1em; display: inline-block; text-align: right;" class="col"> {{meal.maxOrder}} People</p>
                    </div>
                </div>
            </script>

            <script type="text/ng-template" id="ingredients.html">
                <div id="ingredients">
                    <p style="font-size: 1.1em">{{meal.ingredients}}</p>
                </div>
            </script>
        </div>

</ion-content>

</ion-view>
